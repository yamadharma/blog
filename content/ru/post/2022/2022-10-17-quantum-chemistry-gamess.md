---
title: "Квантовая химия. Gamess"
author: ["Dmitry S. Kulyabov"]
date: 2022-10-17T16:58:00+03:00
lastmod: 2023-12-21T13:36:00+03:00
tags: ["modeling"]
categories: ["science"]
draft: false
slug: "quantum-chemistry-gamess"
---

Gamess --- пакет для квантовохимических расчётов.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Название: The General Atomic and Molecular Electronic Structure System (GAMESS).
-   Сайт: <http://www.msg.chem.iastate.edu/gamess/gamess.html>.
-   Лицензионное соглашение: позволяет использовать GAMESS бесплатно, но только сотрудникам конкретной организации, получившей эту лицензию.
-   После регистрации для скачивания доступен исходный код программы, но его передача сотрудникам других организаций запрещена, вместо этого следует сообщать адрес сайта разработчиков, чтобы желающие самостоятельно регистрировались и лицензировали своё использование GAMESS.
-   Регистрация выполняется однократно. Впоследствии на зарегистрированный почтовый адрес высылается ссылка для скачивания.
-   Релизы делаются 2 раза в год: 31 июля и 30 сентября.
-   Возможно использование как компилятора gfortran из состава GCC, так и ifort от Intel.
-   В качестве реализации MPI для распараллеливания выполнения между узлами можно использовать OpenMPI, Intel MPI, mvapich2.
-   В качестве математической библиотеки можно использовать или Atlas, или MKL от Intel.


## <span class="section-num">2</span> Сборка {#сборка}


### <span class="section-num">2.1</span> Скачивание исходных кодов {#скачивание-исходных-кодов}

-   Примите лицензионное соглашение: <https://www.msg.chem.iastate.edu/gamess/License_Agreement.html>.
-   На странице <https://www.msg.chem.iastate.edu/GAMESS/download/register/>:
    -   введите свой email-адрес;
    -   запросите необходимый вариант скачивания.
-   Если почтовый адрес уже зарегистрирован, то Вы получите письмо со ссылкой для скачивания и паролем.
-   Если почтовый адрес не зарегистрирован, Вас попросят ввести данные о себе.


### <span class="section-num">2.2</span> Подготовка {#подготовка}

-   Работа с GAMESS описана в файлах с расширением `DOC`.
-   Первый файл --- `INTRO.DOC`, описанию установки посвящён файл `PROG.DOC`.
-   Конкретные инструкции по установке надо смотреть в файле `~/compile/gamess/machines/readme.unix`.


### <span class="section-num">2.3</span> Конфигурация {#конфигурация}

-   На этом этапе запускается скрипт `config`, который спрашивает о конфигурации, которая будет использоваться (реализация компилятора, MPI, …).
-   Запустить скрипт:
    ```shell
    cd ~/compile/gamess
    ./config
    ```
-   Результат конфигурирования находится в файле `install.info`.


### <span class="section-num">2.4</span> Компиляция {#компиляция}


#### <span class="section-num">2.4.1</span> Make {#make}

-   Можно скомпилить всё с помощью `Makefile`:
    ```shell
    cd ~/compile/gamess
    make
    ```


#### <span class="section-num">2.4.2</span> Вручную {#вручную}

-   Можно всё это сделать и вручную.

<!--list-separator-->

1.  Компиляция DDI

    -   Затем необходимо скомпилировать DDI (Distributed Data Interface).
    -   Описание: `machines/readme.unix` и `ddi/readme.ddi`.
    -   При компиляции используются значения, указанные ранее при выполнении 'config'.
    -   При необходимости можно скорректировать файл `~/compile/gamess/ddi/compddi`, увеличив максимальное количество процессорных ядер в сервере и максимальное количество серверов, которые будут использоваться.
    -   Значения по умолчанию:
        ```conf-unix
        set MAXCPUS=32
        set MAXNODES=1024
        ```
    -   Скомпилируйте DDI:
        ```shell
        cd ~/compile/gamess/ddi
        ./compddi
        ```

        -   При успешной компиляции последние строки будут содержать фразу _DDI compilation ended successfully_.

<!--list-separator-->

2.  Компиляция GAMESS

    -   Скомпилим GAMESS:
        ```shell
        cd ~/compile/gamess
        ./compall
        ```

<!--list-separator-->

3.  Линковка

    -   Слинкуем полученные объектные файлы чтобы получить исполняемый файл GAMESS. В качестве параметра скрипту передаётся `version number`, который мы задали при конфигурировании:
        ```shell
        cd ~/compile/gamess
        ./lked gamess 00
        ```
    -   В результате в директории `~/compile/gamess` появится исполняемый файл `gamess.00.x`.


### <span class="section-num">2.5</span> Установка {#установка}

-   Скопируйте файл `gamess.00.x` в `/usr/local/bin`.
-   В качестве запускающего файла можно использовать скрипт `rungms`.
-   Обратите внимание, что он требует `csh` для исполнения.
-   Необходимо установить нужные значения переменных в этом скрипте.
-   Скопируйте файл `rungms` в `/usr/local/bin`.
