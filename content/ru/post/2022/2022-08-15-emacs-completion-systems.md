---
title: "Emacs. Completion systems"
author: ["Dmitry S. Kulyabov"]
date: 2022-08-15T14:34:00+03:00
lastmod: 2022-08-15T15:14:00+03:00
tags: ["MOC", "emacs"]
categories: ["computer-science"]
draft: false
slug: "emacs-completion-systems"
---

Системы завершения Emacs.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}


## <span class="section-num">2</span> Фреймворки {#фреймворки}


### <span class="section-num">2.1</span> Ido {#ido}

-   Документация: <https://www.gnu.org/software/emacs/manual/html_node/ido/index.html>.
-   Включён в Emacs по умолчанию.
-   Отображает кандидатов по горизонтали, а не по вертикали.
-   Пакет `ido-vertical-mode` который заставляет _Ido_ отображать кандидатов вертикально, а не горизонтально.
-   Не поддерживает какие-либо команды из коробки (только буферы и файлы).


### <span class="section-num">2.2</span> Helm {#helm}

-   Репозиторий: <https://github.com/emacs-helm/helm>.
-   Имеет очень много функций и большое количество пакетов, которые с ним интегрированы.
-   Количество возможностей даже излишне.


### <span class="section-num">2.3</span> Ivy {#ivy}

-   Репозиторий: <https://github.com/abo-abo/swiper#ivy>.
-   Минимальная альтернатива _Helm_ с более простым интерфейсом.
-   Реализация переусложнена (большой технический долг).
    -   Первоначально Ivy был разработан для использования в качестве бэкэнда для Swiper пакета буферного поиска, который изначально использовал Helm.
    -   Когда Ivy стал интерактивным пакетом выбора более общего назначения, было добавлено больше специальных случаев, чтобы попытаться заставить различные команды работать правильно.
-   Ivy отклоняется от API завершения Emacs и изобретает свой собственный API с дополнительными функциями, жертвуя возможностью повторного использования.


### <span class="section-num">2.4</span> Icomplete {#icomplete}

-   Документация: <https://www.gnu.org/software/emacs/manual/html_node/emacs/Icomplete.html>.
-   Встроенный пакет Emacs для интерактивного выбора.
-   В основном это то же самое, что и стандартный `completing-read`, за исключением того, что доступные кандидаты отображаются в минибуфере по мере ввода.
-   Кандидаты отображаются горизонтально (по умолчанию).
    -   Это можно изменить с помощью некоторой ручной настройки, включая настройку `icomplete-separator`.
-   Серьезная проблема юзабилити _Icomplete_ заключается в том, что способ выбора кандидата из нижней части списка очень неинтуитивен.
-   Документация _Icomplete_ в основном отсутствует.
-   Существует пакет для настройки _Icomplete_: `icomplete-vertical`.
-   Наиболее совместимый с API расширенный пользовательский интерфейс для завершения.


### <span class="section-num">2.5</span> Vertico {#vertico}

-   Репозиторий: <https://github.com/minad/vertico>.
-   Минималистичная система, основанная на стандартном интерфейсе Emacs.
-   Расширяет систему завершения по умолчанию аналогично _Icomplete_ и поэтому полностью совместим со всеми функциями `completing-read` API.
-   Поддерживает как горизонтальное, так и вертикальное отображение.
-   Предоставляет быстрые клавиши и действия отображения в стиле _Avy_ для отображения завершений в буфере.
-   Поддерживает циклический перебор кандидатов.


### <span class="section-num">2.6</span> Icicles {#icicles}

-   Информация: <https://www.emacswiki.org/emacs/Icicles>.
-   Пакет, похожий на _Helm_.
-   Можно загрузить только вручную с EmacsWiki.
-   Был удалён из MELPA из-за консенсуса сообщества о том, что этот механизм распространения имеет неприемлемые риски для безопасности.


### <span class="section-num">2.7</span> Snails {#snails}

-   Репозиторий: <https://github.com/manateelazycat/snails>.
-   Поддерживает нечёткий поиск из коробки.
-   Как и _Ivy_, он идёт по пути переноса каждой возможной команды в бэкенд, а не использует существующие интерфейсы Emacs для обработки всех возможных команд.


### <span class="section-num">2.8</span> Sallet {#sallet}

-   Репозиторий: <https://github.com/Fuco1/sallet>.
-   Идёт по пути предоставления оболочек для всех возможных команд, а не реализует их все через существующий `completing-read` интерфейс.
-   Отсутствует документация для пользователя.


### <span class="section-num">2.9</span> Raven {#raven}

-   Репозиторий: <https://github.com/chameco/raven>.
-   Использует вертикальную моду.
-   Слабо разработан.


### <span class="section-num">2.10</span> Swiper {#swiper}

-   Репозиторий: <https://github.com/abo-abo/swiper#swiper>.
-   Пакет поиска в буфере, использующий интерфейс _Ivy_ и тесно связанный с реализацией _Ivy_.


### <span class="section-num">2.11</span> Selectrum {#selectrum}

-   Репозиторий: <https://github.com/radian-software/selectrum>.
-   Кодовая база Selectrum проста и лаконична.
-   Selectrum предоставляет ограниченный набор функций.
-   Selectrum основывается на стандартном API завершения Emacs, и пытается предоставить наилучший пользовательский интерфейс для этого API.
-   Selectrum не поддерживает функции, которые нарушают работу `completing-read` API.


### <span class="section-num">2.12</span> CTRLF {#ctrlf}

-   Репозиторий: <https://github.com/radian-software/ctrlf>.
-   Переработанный с нуля интерфейс поиска в буфере.


### <span class="section-num">2.13</span> Consult {#consult}

-   Репозиторий: <https://github.com/minad/consult>.
-   Предоставляет команду `consult-line`, которая ведет себя аналогично Swiper.
