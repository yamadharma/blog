---
title: "Почта. Google. Настройка почтового клиента"
date: 2021-07-06T14:27:00+03:00
lastmod: 2024-05-15T21:05:00+03:00
tags: ["sysadmin"]
categories: ["computer-science"]
draft: false
slug: "mail-google-configuring-mail-client"
---

Настройка клиента для работы с почтой _Google.com_.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Сайт: <https://www.google.com/>
-   Используются локализованные названия для папок IMAP.
-   Папки IMAP (кроме `INBOX`) находятся в иерархии `[Gmail]`.
-   Имена папок нужно передавать в модифицированном UTF-7 (см. [Почта. Кодировка папок IMAP]({{< relref "2021-07-04-mail-imap-folder-encoding" >}})).
-   Необходимо включить доступ по IMAP:
    -   Откройте Gmail на компьютере.
    -   В правом верхнем углу нажмите на значок `Настройки`, затем `Все настройки`.
    -   Откройте вкладку `Пересылка и POP/IMAP`.
    -   В разделе `Доступ по протоколу IMAP` выберите `Включить IMAP`.
    -   Нажмите `Сохранить изменения`.
-   Лимиты по трафику:
    -   скачивание по IMAP: не более 2500 МБ в день;
    -   скачивание по POP: не более 1250 МБ в день;
    -   загрузка по IMAP: не более 500 МБ в день.
-   Размер вложения: до 25 МБ.
    -   Если размер вложения превышает 25 МБ, web-интерфейс Gmail автоматически добавляет ссылку на Google Диск в электронное письмо вместо того, чтобы включать её в качестве вложения.
-   Поддерживает двуэтапную авторизацию.
-   Для приложений, не поддерживающих двуэтапную авторизацию, следует использовать ключ приложения (см. [Почта. Подключение к Google]({{< relref "2020-12-25-mail-google-connect" >}})).
-   Google сохраняет всю электронную почту в папке "Все сообщения".


## <span class="section-num">2</span> Настройка клиента {#настройка-клиента}


### <span class="section-num">2.1</span> SMTP {#smtp}

-   login --- почтовый адрес `name@example.com` на google.com (где `name` --- это имя почтового ящика, а `example.com` --- имя домена);
-   password --- пароль от почтового ящика домена на google.com;
-   адрес почтового сервера --- `smtp.gmail.com`;
-   защита соединения --- SSL:
    -   порт --- 465;
-   защита соединения --- STARTTLS:
    -   порт --- 587.


### <span class="section-num">2.2</span> IMAP {#imap}

-   login --- почтовый адрес `name@example.com` на google.com (где `name` --- это имя почтового ящика, а `example.com` --- имя домена);
-   password --- пароль от вашего почтового ящика домена на google.com;
-   адрес почтового сервера --- `imap.gmail.com`;
-   защита соединения --- SSL;
-   порт --- 993.


### <span class="section-num">2.3</span> POP3 {#pop3}

-   login --- почтовый адрес `name@example.com` на google.com (где `name` --- это имя почтового ящика, а `example.com` --- имя домена);
-   password --- пароль от вашего почтового ящика домена на google.com;
-   адрес почтового сервера --- `pop.gmail.com`;
-   защита соединения --- SSL;
-   порт --- 995.


## <span class="section-num">3</span> Имена почтовых ящиков {#имена-почтовых-ящиков}

-   Можно  получить информацию по именам почтовых ящиков с помощью консольного запроса (см. [Запросы по протоколу imap из командной строки]({{< relref "2024-04-13-imap-queries-command-line" >}})).
-   В предположении, что используется парольный менеджер _pass_ (см. [Менеджер паролей pass]({{< relref "2021-04-28-password-manager-pass" >}}), [Почта. Google. Настройка почтового клиента]({{< relref "2021-07-06-mail-google-configuring-mail-client" >}})):
    ```shell
    curl --insecure --url "imaps://imap.gmail.com/" --user "username:$(gopass -o mail/google.com/username@gmail.com@imap.gmail.com)"
    ```
-   Имена ящиков будут на том языке, который установлен для интерфейса Gmail.
-   Имена на других языках можно перевести (см. [Почта. Кодировка папок IMAP]({{< relref "2021-07-04-mail-imap-folder-encoding" >}})).


## <span class="section-num">4</span> Поисковые запросы в Web-интерфейсе Gmail {#поисковые-запросы-в-web-интерфейсе-gmail}


### <span class="section-num">4.1</span> Размер почтового сообщения {#размер-почтового-сообщения}

-   Размер сообщения:
    ```shell
    size:[size in bytes]
    ```
-   В дополнение к размеру вы можете использовать операторы поиска, такие как больше, больше, чем меньше, меньше и меньше, чем меньше, чтобы найти файлы любого определенного размера:
    -   `larger_than`;
    -   `smaller_than`.
-   Примеры:
    -   Все электронные письма размером более 5 МБ, содержащие файловые вложения:
        ```shell
        size:5mb has:attachment
        ```
    -   Электронные письма размером более 10 МБ, вложения в формате `pdf`:
        ```shell
        size:10mb has:attachment filename:pdf
        ```
    -   Все электронные письма с размером вложений от 5 МБ до 8 МБ:
        ```shell
        larger_than:5m smaller_than:8M
        ```
