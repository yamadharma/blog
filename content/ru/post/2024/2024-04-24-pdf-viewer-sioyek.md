---
title: "Pdf. Просмотр. Sioyek"
author: ["Dmitry S. Kulyabov"]
date: 2024-04-24T12:41:00+03:00
lastmod: 2024-05-01T21:50:00+03:00
categories: ["computer-science"]
draft: false
slug: "pdf-viewer-sioyek"
---

Просмотрщик pdf Sioyek.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Сайт: <https://sioyek.info/>
-   Репозиторий: <https://github.com/ahrm/sioyek>
-   Документация: <https://sioyek-documentation.readthedocs.io/>
-   Поддерживаемые форматы: pdf, epub.
-   Управляется с помощью клавиатурных комбинаций, аналогично Zathura (см. [Pdf. Просмотр. Zathura]({{< relref "2023-09-20-pdf-viewer-zathura" >}})).
-   Использует стиль Vim для клавиатурных сочетаний.
-   Основан на MuPDF (<https://mupdf.com/>).


## <span class="section-num">2</span> Установка {#установка}


### <span class="section-num">2.1</span> Gentoo {#gentoo}

-   Используйте репозиторий `guru` (см. [Gentoo. Дополнительные репозитории]({{< relref "2023-10-01-gentoo-additional-repositories" >}})):
    ```shell
    eselect repository enable guru
    emaint sync -r guru
    ```
-   Установите пакет:
    ```shell
    emerge sioyek
    ```


## <span class="section-num">3</span> Конфигурацию {#конфигурацию}


### <span class="section-num">3.1</span> Конфигурационный файл {#конфигурационный-файл}

-   Системная настройка клавиатуры: `/etc/sioyek/keys.config`.
-   Системные общие настройки: `/etc/sioyek/prefs.config`.


### <span class="section-num">3.2</span> Установка как приложения по умолчанию {#установка-как-приложения-по-умолчанию}

-   Приложение по умолчанию устанавливается с помощью _xdg-utils_ (см. [XDG. Приложения MIME]({{< relref "2023-04-02-xdg-mime-applications" >}})):
    ```shell
    xdg-mime default sioyek.desktop application/pdf
    ```


## <span class="section-num">4</span> Привязка клавиш по умолчанию {#привязка-клавиш-по-умолчанию}


### <span class="section-num">4.1</span> Открытие файлов {#открытие-файлов}

-   `o` : открыть меню выбора файла (`open_document`);
-   `Shift-o` : открыть список недавно открытых файлов (`open_prev_doc`);
-   `Ctrl-o` : открыть встроенный броузер файловой системы (`open_document_embedded`);
-   `Ctrl-Shift-o` : открыть встроенный броузер файловой системы в папке текущего документа (`open_document_embedded_from_current_path`);
-   `delete` : удалить файл из списка (не удаляет файл в файловой системе);
-   `Ctrl-t` : открыть файл в новом окне;
-   параметр командной строки `--new-window` открывает новое окно изнутри;
-   команда `goto_window` позволяет переключаться между открытыми окнами.


### <span class="section-num">4.2</span> Перемещение {#перемещение}

-   Можно перемещаться с помощью клавиш со стрелками (команды: `move_down`, `move_up`, `move_left`, `move_right`);
-   можно использовать колесо мыши для прокрутки экрана;
-   `gg` : переход на первую страницу (`goto_begining`);
-   `G` : перехода на последнюю страницу (`goto_end`);
-   номер страницы и затем `gg` : перейти на нужную страницу (например, чтобы перейти на страницу 42, необходимо ввести `42gg`);
-   нажать `HOME`, откроется меню, в котором вы можете ввести номер страницы : перейти на нужную страницу (`goto_page_with_page_number`);
-   `space` : переместиться на экран вниз (`screen_down`);
-   `Shift-space` : переместиться на экран вверх (`screen_up`);
-   `Ctrl-PageDown`, `Ctrl-PageUp` : переход к следующей или предыдущей странице (`next_page`, `previous_page`);
-   `t` : открыть оглавление с возможностью поиска (`goto_toc`);
-   `gc` : переход к следующей главе (`next_chapter`);
-   `gC` : переход к предыдущей главе (`prev_chapter`);
-   команда `toggle_scrollbar` переключает полосу прокрутки.


### <span class="section-num">4.3</span> Масштабирование {#масштабирование}

-   `+` : увеличить масштаб (`zoom_in`);
-   `-` : уменьшить масштаб (`zoom_out`);
-   можно использовать колесо мыши, удерживая `Cntrl`, для увеличения или уменьшения масштаба;
-   `f9` : подогнать страницу по ширине окна (`fit_to_page_width`);
-   `f10` : подогнать страницу по ширине окна, игнорируя поля страницы (`fit_to_page_width_smart`).


### <span class="section-num">4.4</span> Навигация по истории {#навигация-по-истории}

-   Хранится полная история местоположений.
-   `backspace` или `Ctrl-LeftArrow` : вернуться назад по истории (`prev_state`);
-   `Shift-backspace` или `Ctrl-RightArrow` : вернуться вперёд по истории (`next_state`).


### <span class="section-num">4.5</span> Обзор {#обзор}

-   Можно щёлкнуть правой кнопкой мыши ссылку, чтобы открыть краткий обзор места назначения ссылки; перемещаться по этому обзору можно с помощью колесика мыши;
-   если в PDF-документе нет ссылок, можно щёлкнуть правой кнопкой мыши по элементам, и просмотрщик попытается открыть обзор места назначения элемента;
-   щёлкнуть средней кнопкой мыши по элементам, чтобы напрямую перейти к их местоположению, вместо того, чтобы открывать обзор.


### <span class="section-num">4.6</span> Визуальная метка {#визуальная-метка}

-   Если вы щёлкнете _правой_ кнопкой мыши по строке текста в PDF-файле, sioyek отобразит визуальную подсветку под этой строкой (визуальная метка).
-   Вы всегда можете вернуться к последнему местоположению визуальной метки, нажав `` ` `` и затем щелкнуть правой кнопкой мыши или нажать `` ` `` ещё раз.
-   Можно использовать для слежения за строкой.
-   Можно переместить визуальный знак на следующую или предыдущую строку, нажав `j` или `k` (`move_visual_mark_down`, `move_visual_mark_up`).
-   Вы можете переключить режим визуальной прокрутки, нажав `F7` (`toggle_visual_scroll`). В этом режиме колесо мыши перемещает визуальную метку вверх и вниз.
-   Если установлено в `prefs_user.config` команда `ruler_mode 0`, строка просто подчёркивается.
-   Если установлено в `prefs_user.config` команда `ruler_mode 1`, рисуется прямоугольник вокруг текущей строки.
-   Пока строка выделена, вы можете нажать `l` (`overview_definition`), чтобы создать обзор ссылки в текущей строке.

= Аналогичным образом вы можете нажать `]` (`portal_to_definition`) и `Ctrl+]` (`goto_definition`), чтобы создать портал или перейти к определению.


### <span class="section-num">4.7</span> Поиск {#поиск}

-   `/` или `Ctrl-f` : открыть меню поиска (`search`);
-   после начала поиска можно нажать `n` для перехода к следующему совпадению или `N` для перехода к предыдущему совпадению (`next_item` и `previous_item`);
-   `c/` : поиск только в текущей главе (`chapter_search`);
-   `<begin,end>что искать` : ограничить диапазон поиска определённым диапазоном страниц;
-   команды `overview_next_item` и `overview_prev_item` могут открыть обзор результатов поиска, а не переходить к ним.


### <span class="section-num">4.8</span> Метки {#метки}

-   Иногда при чтении документа необходимо бросить взгляд на содержимое предыдущих страниц и быстро вернуться в исходное место.
-   С помощью меток вы можете отметить своё местоположение, прежде, чем просмотреть предыдущий контент, а затем быстро вернуться к местоположению метки.
-   Чтобы создать метку, сначала нажмите `m` (`set_mark`), а затем символ алфавита (этот символ будет названием метки, вы можете иметь несколько меток с разными именами).
-   Например, чтобы создать отметку с именем `a` вашего текущего местоположения, введите `ma`.
-   Вы можете перейти к метке, нажав `` ` `` и указав название метки.
-   Отметки постоянные (сохраняются даже при закрытии приложения).
-   Знаки нижнего регистра являются локальными для текущего документа, а знаки верхнего регистра являются глобальными для всех файлов приложения.


### <span class="section-num">4.9</span> Закладки {#закладки}

-   Закладки аналогичны меткам, за исключением того, что вместо буквы алфавита в них используется текстовое описание.
-   Добавить закладку можно, нажав `b` (`add_bookmark`) и затем введя текстовое описание закладки в открывшемся меню.
-   Вы можете открыть список закладок текущего документа с возможностью поиска, введя `gb` (`goto_bookmark`).
-   Вы можете открыть список всех закладок во всех документах с возможностью поиска, введя `gB` (`goto_bookmark_g`).
-   Вы можете удалить ближайшую к текущему местоположению закладку, введя команду `db` (`delete_bookmark`).
-   Вы также можете удалить закладки непосредственно из списка закладок, выбрав закладку и затем нажав клавишу `delete` на клавиатуре.


### <span class="section-num">4.10</span> Выделения {#выделения}

-   Вы можете выделить текст. Подобно меткам, вы можете назначить тип каждому выделению, используя строчную букву алфавита. Каждому типу присваивается свой цвет.
-   Выделите фрагмент текста, а затем нажмите, `h`, а затем букву, чтобы задать тип. Например, чтобы создать выделение с типом `a`, введите `ha` (`add_highlight`).
-   Если вы не хотите каждый раз указывать тип выделения, вы можете выполнить команду `add_highlight_with_current_type`, которая использует текущее имя выделения для выделенного текста.
-   Вы можете изменить текущий тип выделения, выполнив команду `set_select_highlight_type`.
-   Вы можете переключить режим выделения, выполнив команду `toggle_select_highlight`. В этом режиме весь выделенный текст будет выделен как выбранный тип выделения.
-   Нажмите `gh`, чтобы открыть список выделений в текущем документе с возможностью поиска (`goto_highlight`).
-   Нажмите `gH`, чтобы открыть список выделений во всех документах с возможностью поиска (`goto_highlight_g`).
-   Вы можете выполнить `goto_next_highlight` и `goto_prev_highlight`, чтобы перемещаться по выделенным моментам в текущем документе.
-   Если вы хотите перемещаться по выделенным объектам выбранного типа (имени), вы можете использовать команды `goto_next_highlight_of_type` и `goto_prev_highlight_of_type`.
-   Чтобы удалить выделение, сначала щёлкните его левой кнопкой мыши, а затем введите `dh` (`delete_highlight`).
-   Также вы можете нажать клавишу `delete` на клавиатуре в списке выделения.


### <span class="section-num">4.11</span> Порталы {#порталы}

-   Иногда абзац полностью посвящен предыдущей части документа. Например, возможно, этот абзац объясняет данные предыдущей таблицы, описывает предыдущий рисунок или отвечает на предыдущее упражнение.
-   В таких ситуациях обычно очень раздражает постоянное переключение между абзацем и материалом, на который есть ссылка.
-   Используя порталы, вы можете связать расположение абзаца с местоположением ссылочного материала, и всякий раз, когда вы прокручиваете абзац до абзаца, содержимое ссылки автоматически отображается во вторичном окне.
-   Для того, чтобы создать портал, нажмите `p` (`portal`). Это создаёт неполный портал с текущим местоположением в качестве источника.
-   Теперь перейдите к местоположению указанного материала и нажмите `p` ещё раз. На этом портал завершается со вторым местом назначения.
-   Кроме того, вы можете создавать порталы, нажав `p`, а затем щёлкнув ссылку PDF. При этом автоматически создаётся портал от места ссылки до места назначения ссылки.
-   Также вы можете щелкнуть средней кнопкой мыши после нажатия `p`, что использует _Smart Jump_ для определения пункта назначения.
-   Для просмотра портала необходимо открыть окно-помощник. Вы можете открыть или закрыть окно-помощник, нажав `F12` (`toggle_window_configuration`).
-   В этом окне автоматически отображается пункт назначения портала с ближайшим к текущему местоположению источником.
-   Вы можете удалить ближайший портал, введя `dp` (`delete_portal`).
-   Вы можете перейти к месту назначения ближайшей ссылки, выполнив команду `goto_portal`.
-   Чтобы отредактировать назначение текущей ссылки, нажмите `Shift-p` (`edit_portalbackspace`). Это автоматически перенаправит вас к месту назначения ссылки. Теперь вы можете настроить экран или уровень масштабирования. Когда вы закончите, вернитесь в исходное местоположение, вернувшись в историю.
-   Вы также можете отредактировать место назначения ссылки, непосредственно перемещая окно помощника с помощью мыши или прокручивая колесо мыши.
-   Вы также можете настроить уровень масштабирования, используя колесо мыши, удерживая нажатой кнопку `Ctrl`.


### <span class="section-num">4.12</span> Командное меню {#командное-меню}

-   Меню команд можно открыть, нажав `:` (`command`).
-   Это доступный для поиска список всех команд, а также их текущие сочетания клавиш.


### <span class="section-num">4.13</span> Внешний поиск {#внешний-поиск}

-   Выделите фрагмент текста и введите `ss` или `sl` (команда `external_search`, за которой следует буква `a-z`), чтобы выполнить поиск в _Google Scholar_ или _Library Genesis_.
-   Вы также можете щелкнуть средней кнопкой мыши или щелкнуть средней кнопкой мыши по названию статей или книг (не нужно выделять текст), чтобы быстро найти их в _Google Scholar_ или других поисковых системах.
-   Вы можете настроить поисковые системы, используя конфигурации `search_url_*` в файлах `prefs_user.config`.
-   Вы можете настроить, какие поисковые системы использовать для поиска средним щелчком или сдвигом-средним щелчком, используя конфигурации `middle_click_search_engine` и `shift_middle_click_search_engine` в `prefs_user.config`.
-   Значением этих конфигураций должна быть буква, соответствующая конфигурациям `search_url_*`.


### <span class="section-num">4.14</span> SyncTeX {#synctex}

-   Нажмите `F4`, чтобы переключить режим синхронизации (`toggle_synctex`).
-   В этом режиме щелчок правой кнопкой мыши по любому тексту открывает соответствующий tex-файл в соответствующем месте.
-   Вы можете настроить команду обратного поиска _synctex_, используя конфигурация `inverse_search_command` в `prefs.config`.


### <span class="section-num">4.15</span> Данные и синхронизация {#данные-и-синхронизация}

-   Данные хранятся в двух файлах баз данных с именами `local.db` и `shared.db`.
-   `local.db` хранит специфичные для системы данные (например, расположение PDF-файлов в вашей файловой системе).
-   `shared.db` хранит все остальные данные, включая метки, закладки, порталы и т. д.
-   `shared.db` можно использовать на разных компьютерах.
-   Путь до разделяемой базы задаётся в конфигурации `shared_database_path` в файле `prefs_user.config`.
-   Можете экспортировать и импортировать данные из json-файла, выполнив команду `export` или `import`.


### <span class="section-num">4.16</span> Конфигурация окна {#конфигурация-окна}

-   Переключите полноэкранный режим с помощью `F12` (`toggle_window_configuration`).
-   Вы можете сохранить текущую конфигурацию окна командой `copy_window_size_config`.


### <span class="section-num">4.17</span> Разное {#разное}

-   `Ctrl-c` : копировать выделенный текст (`copy`).
-   Вы можете открыть ссылки в файлах PDF с клавиатуры, нажав `f` и введя номер рядом с нужной ссылкой (`open_link`).
-   Нажмите `F8`, чтобы переключить на тёмный режим (`toggle_dark_mode`).
-   Нажмите `F5`, чтобы переключить на режим презентации (`toggle_presentation_mode`).
-   Команда `toggle_horizontal_scroll_lock` запрещает горизонтальную прокрутку документа.
-   Команда `toggle_custom_color` переключает пользовательскую цветовую схему.
-   Команда `execute` открывает командную строку, в которой вы можете выполнять команды оболочки.
    -   В этой командной строке `%1` задаёт полный путь к текущему файлу, `%2` --- имя текущего файла, `%3`  --- текущий выделенный текст.
    -   Вы также можете заранее определить команды и быстро выполнять их, используя `execute_predefined_command`.
-   Вы можете экспортировать версию текущего PDF-файла со всеми встроенными в него закладками/выделениями (чтобы она была доступна для другого программного обеспечения PDF), выполнив команду `embed_annotations`.
-   Вы можете повернуть страницу, выполнив команды `rotate_clockwise` и `rotate_counterclockwise`.
