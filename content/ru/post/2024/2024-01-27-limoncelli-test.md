---
title: "Тест Лимончелли"
author: ["Dmitry S. Kulyabov"]
date: 2024-01-27T20:26:00+03:00
lastmod: 2024-02-01T11:56:00+03:00
tags: ["sysadmin"]
categories: ["computer-science"]
draft: false
slug: "limoncelli-test"
---

-   Тест Лимончелли
    -   32 краеугольных принципа хорошей команды системного администрирования.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Сайт (англ): <https://www.opsreportcard.com/>
-   Перевод (русский): <https://docs.google.com/document/u/0/d/1r2-0CH-ZnCjzyl214JRu4jYr25HHNPGoRtE5QQlDe1M/pub>
-   Основные правила организации инфраструктуры системного администрирования, сформулированные в виде тестов.
-   Даются вопросы с их обсуждением.


## <span class="section-num">2</span> Подходы по работе с пользователями: {#подходы-по-работе-с-пользователями}


### <span class="section-num">2.1</span> Используете ли вы систему отслеживания запросов? {#используете-ли-вы-систему-отслеживания-запросов}

-   Упрощает обмен информацией в команде.
    -   Позволяет избегать ситуаций, когда два человека одновременно работают над одним и тем же запросом.
    -   Даёт возможность делить работу межу людьми, передавать работу между собой, не теряя информации.
    -   Даёт возможность подменять администратора, который недоступен.
-   Делает работу команды прозрачнее.
    -   Пользователи видят кто работает над запросом, какой у него статус, и когда он выполнен.
-   Позволяет эффективнее использовать рабочее время.
    -   Уменьшает количество прерываний от пользователей, которые хотят сделать новый запрос или узнать статус открытого запроса.
    -   Позволяет задавать приоритеты в работе администратора, а не решать проблемы пользователя, который жалуется громче всех.
-   Позволяет обнаружить системные проблемы.
-   Позволяет пользователям помогать самим себе.
    -   Формулируя проблему, пользователь сам находит её решение и запрос так и не отправляется.
    -   Процесс отправки помогает пользователю продумать проблему и сформулировать её яснее.


### <span class="section-num">2.2</span> Есть ли у вас _три регламентирующие политики_ и знают ли о них? {#есть-ли-у-вас-три-регламентирующие-политики-и-знают-ли-о-них}

-   Три политики, регламентирующие вашу работу с пользователями:
    -   Доступные пользователям способы запроса помощи.
    -   Определение аварийной ситуации.
    -   Объем обслуживания: кто, что и где.


#### <span class="section-num">2.2.1</span> Как получить помощь {#как-получить-помощь}

Официальный протокол, описывающий как пользователи должны запрашивать помощь, позволяет получить все преимущества использования системы отслеживания запросов, описанные в предыдущем разделе. Без этой политики все преимущества испаряются, потому что люди будут приходить прямо к сисадминам, которые, стараясь помочь, будут постоянно отвлекаться на мелочи, а их эффективность сильно понизится.

У системного администратора должны быть возможность отказать пользователю, когда тот не соблюдает протокол. Без возможности отослать пользователя к официальной политике, администраторы будут работать либо над низкоприоритетными задачами, либо для пользователей, которые громче всех жалуются, либо каждый из них будет пользоваться своей личной политикой, тем самым выставляя всю команду непоследовательной, а в худшем случае будут нездоровым способом демонстрировать свое неудовлетворение. Точнее, нездоровым для пользователей способом.


#### <span class="section-num">2.2.2</span> Определение аварии: {#определение-аварии}

Официальное определение аварийной ситуации позволяет системным администраторам расставлять приоритеты. Без этого определения, всё становится авралом, и снова сисадмины будут постоянно отвлекаться на мелочи, а их эффективность сильно понизится.

Политика — это один из способов, которым руководство коммуницирует приоритеты системным администраторам. В противном случае, сисадмины будут строить догадки о приоритетах, ошибаться, их будут несправедливо за это наказывать; менеджеры будут расстраиваться из-за “дисконнектов”, а пользователи, видя непоследовательность, будут предполагать фаворитизм, халатность и некомпетентность.

Это политика определяет ожидания пользователей. С ее помощью можно корректировать иллюзии пользователей, которые считают любой происшествие аварийной ситуацией.

Каждая организация должна иметь определение аварии или “красного сигнала”. Для газеты — это все, что блокирует печать завтрашнего номера и его погрузку в грузовики в 4 утра. “Красный сигнал” на заводе — это все, что останавливает конвейер. Авария для отдела платежей — все, что делает невозможным проведение платежей. Команды, работающие в сфере образования, знают, что перенести занятие совсем не просто, потому аварийной ситуацией является все, что мешает надлежащему проведению лекции (возможно, только если технологический центр был заблаговременно предупрежден). В университетах “красный сигнал” определен, как любая преграда для своевременной подачи заявок на получение грантов.

“Желтый сигнал” — это все, что приведет к “красному”, если останется без внимания. Например, оплаты проводятся, но не работает подсистема оценки доступных запасов. В таком случае очень рискованно брать новых клиентов. Последняя оценка говорила о запасах, достаточных на 2 недели. Риск остановки производства растет с каждым днем, пока “желтый сигнал” не будет исправлен.

Все остальное — это рутина. Изобретательные компании разделяют рутинные задачи по приоритетам: высокий, средний, низкий; создание нового сервиса, поддержка существующих, и т.д. Если у вас ничего такого нету, начните с определения, что представляет собой авария.


#### <span class="section-num">2.2.3</span> Что поддерживается: {#что-поддерживается}

Официальное определение поддерживаемых сервисов позволяет администраторам говорить “нет”. Должно быть определено когда, где, кто и что поддерживается. Работает ли команда после 6 вечера? На выходных? Ходят ли администраторы по вызову к рабочему месту пользователя? Домой к пользователю? Поддерживаете ли вы кого-либо, кроме сотрудников компании? Какое программное и аппаратное обеспечение поддерживается? Есть ли у поддерживаемого обеспечения жизненный цикл, или вы обречены его поддерживать вечно? Новые технологии включаются в поддержку автоматически или после официального утверждения?

Не имея возможности сказать “нет”, администраторы будут поддерживать всё. Отзывчивый и старательный сисадмин потратит кучу времени, пытаясь заставить работать неподдерживаемую видеокарту, при том, что дешевле будет подарить этому пользователю поддерживаемую карту за счет бюджета СА. Пропавший без вести системный администратор вдруг найдется, после дня, проведенного у пользователя дома, где он ремонтировал Интернет-подключение. Или наоборот, ворчливый сисадмин будет говорить людям, что они это не поддерживают, просто потому, что он занят.


### <span class="section-num">2.3</span> Ведёт ли команда ежемесячные метрики? {#ведёт-ли-команда-ежемесячные-метрики}


## <span class="section-num">3</span> Современные подходы в работе: {#современные-подходы-в-работе}


### <span class="section-num">3.1</span> Есть ли у вас вики с описанием политик и процедур? {#есть-ли-у-вас-вики-с-описанием-политик-и-процедур}


### <span class="section-num">3.2</span> Есть ли у вас место, где хранятся пароли? {#есть-ли-у-вас-место-где-хранятся-пароли}

1.  Хранится ли ваш код в системе управления версиями?

2.  Использует ли ваша команда систему отслеживания ошибок для своего кода?

3.  В ваших задачах обеспечение стабильности приоритетнее новых возможностей?

4.  Пишет ли ваша команда проектную документацию?

5.  Выполняете ли вы анализ причин происшествия?


## <span class="section-num">4</span> Операционные подходы: {#операционные-подходы}

\*11. Есть ли у вас документация (OpsDoc) на все ваши сервисы?

\*12. Имеет ли каждый сервис необходимый мониторинг?

1.  Есть ли у вас график дежурств?

2.  Используете ли вы отдельные системы для разработки, тестирования и производства?

3.  Используется ли “канареечный процесс” при внесении изменений на большое количество машин?


## <span class="section-num">5</span> Подходы по автоматизации: {#подходы-по-автоматизации}

1.  Используете ли вы инструменты управления конфигурацией, такие как cfengine/puppet/chef?

2.  Выполняются ли автоматизированные задачи под ролевыми учетными записями?

3.  Ваши автоматизированные задачи шлют почту только когда есть полезная информация?


## <span class="section-num">6</span> Подходы по управлению парком машин {#подходы-по-управлению-парком-машин}

\*19. Есть ли у вас база данных всех машин?

1.  Автоматизирован ли у вас процесс установки ОС?

\*21. Можете ли вы автоматически обновлять ПО для всего парка машин?

1.  Есть ли у вас политика обновления компьютеров?


## <span class="section-num">7</span> Подходы серии _Мы согласны, что техника ломается_ {#подходы-серии-мы-согласны-что-техника-ломается}

\*23. Будут ли работать ваши сервера, если на них откажет один из дисков?

1.  Используется ли схема N+1 в ядре вашей сети?

\*25. Автоматизировано ли ваша процедура резервного копирования?

\*26. Проверяете ли вы периодически свой план аварийного восстановления?

1.  Есть ли в вашем ЦОД системы удаленного управления питанием и доступа к консолям?


## <span class="section-num">8</span> Подходы к безопасности: {#подходы-к-безопасности}

\*28. Ваши сервера/ноутбуки/компьютеры защищены автоматически обновляемым антивирусным ПО?

\*29. Есть ли у вас политика безопасности в письменном виде?

1.  Проводите ли вы регулярный аудит безопасности?

2.  Можете ли вы отключить учетную запись пользователя во всех системах за 1 час?

3.  Можете ли вы сменить все привилегированные (root) пароли за 1 час?


## <span class="section-num">9</span> Библиография {#библиография}

## Литература

<div class="csl-bib-body">
</div>
