---
title: "Почта. Подключение к Google"
author: ["Dmitry S. Kulyabov"]
date: 2020-12-25T16:55:00+03:00
lastmod: 2023-09-11T16:39:00+03:00
tags: ["sysadmin"]
categories: ["computer-science"]
draft: false
slug: "mail-google-connect"
---

Google по умолчанию блокирует подключение сторонних клиентов.

<!--more-->

@@hugo{{&lt; toc &gt;}}@@


## <span class="section-num">1</span> ~~Явное разрешение подключения~~ {#8b89f0}

-   Начиная с 30 мая 2022 года Google больше не поддерживает сторонние приложения и устройства, которые предлагают войти в аккаунт Google только с помощью имени пользователя и пароля.
-   Следующие рекомендации больше **не работают**.
    -   Перейти на страницу безопасности Google <https://myaccount.google.com/security>.
    -   Переключить «Небезопасные приложения заблокированы» на «Небезопасные приложения разрешены».


## <span class="section-num">2</span> Двухэтапная аутентификация {#двухэтапная-аутентификация}

-   В Google Mail используется проприетарное расширение SASL XOAUTH2 для поддержки токенов OAuth 2.0 для аутентификации SMTP/IMAP.
-   Подключите на учётной записи двухэтапную аутентификацию: <https://myaccount.google.com/signinoptions/two-step-verification/enroll-welcome>.
-   Необходимо включить двухэтапную аутентификацию для устройств, не поддерживающих двухэтапную аутентификацию. Для этого необходимо:
    -   Перейти по адресу <https://myaccount.google.com/apppasswords>.
    -   Подключиться к необходимой учётной записи.
    -   Сгенерить пароль приложения.
    -   Поместите полученный пароль в файл аутентификации (например, `~/.authinfo`) вместо Вашего пароля.
